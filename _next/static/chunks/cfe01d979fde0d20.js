(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,74647,e=>{"use strict";var t=e.i(43476),o=e.i(71645);let a="todo-list-data",l=()=>{try{let e=localStorage.getItem(a);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading from localStorage:",e),[]}},r=e=>{try{return localStorage.setItem(a,JSON.stringify(e)),!0}catch(e){return console.error("Error writing to localStorage:",e),!1}},s=e=>new Promise(t=>setTimeout(t,e)),d=async()=>{console.log("Getting todos from localStorage..."),await s(300);let e=l();return console.log("Retrieved todos:",e),{success:!0,data:e,count:e.length,message:"Data loaded from Local Storage"}},n=async e=>{console.log("Creating todo in localStorage:",e),await s(500);let t=l(),o={id:Date.now(),title:e.title,description:e.description||"",completed:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(r([...t,o]))return console.log("Todo created successfully:",o),{success:!0,data:o,message:"Todo saved to Local Storage"};throw Error("Failed to save todo to localStorage")},i=async(e,t)=>{console.log("Updating todo in localStorage:",e,t),await s(400);let o=l(),a=o.findIndex(t=>t.id===e);if(-1===a)throw Error("Todo not found");let d={...o[a],...t,updated_at:new Date().toISOString()},n=[...o];if(n[a]=d,r(n))return console.log("Todo updated successfully:",d),{success:!0,data:d,message:"Todo updated in Local Storage"};throw Error("Failed to update todo in localStorage")},c=async e=>{console.log("Deleting todo from localStorage:",e),await s(300);let t=l();if(-1===t.findIndex(t=>t.id===e))throw Error("Todo not found");if(r(t.filter(t=>t.id!==e)))return console.log("Todo deleted successfully:",e),{success:!0,data:{id:e},message:"Todo deleted from Local Storage"};throw Error("Failed to delete todo from localStorage")},g=async()=>{console.log("Local Storage health check..."),await s(200);try{let e="test-local-storage";return localStorage.setItem(e,"test"),localStorage.removeItem(e),{status:"healthy",available:!0,storage:"localStorage",message:"Local Storage is working perfectly"}}catch(e){return{status:"error",available:!1,storage:"localStorage",message:"Local Storage is not available",error:e.message}}};function x({onAdd:e,loading:a}){let[l,r]=(0,o.useState)(""),[s,d]=(0,o.useState)(""),[n,i]=(0,o.useState)(!1),[c,g]=(0,o.useState)(null),x=async t=>{if(t.preventDefault(),console.log("Submit clicked",{title:l,description:s}),!l.trim())return void g("Please enter a title");i(!0),g(null);try{console.log("Calling onAdd..."),await e({title:l.trim(),description:s.trim()}),console.log("onAdd success"),r(""),d("")}catch(e){console.error("Submit error:",e),g("Failed to add todo. Please try again.")}finally{i(!1)}};return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#374151",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("span",{style:{fontSize:"32px"},children:"➕"}),"Add New Task"]}),c&&(0,t.jsx)("div",{style:{marginBottom:"16px",background:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b",padding:"12px",borderRadius:"6px"},children:c}),(0,t.jsxs)("form",{onSubmit:x,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",color:"#374151",fontWeight:"600",marginBottom:"8px",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Task Title *"}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>{console.log("Title changed:",e.target.value),r(e.target.value)},placeholder:"What do you need to do?",className:"input",disabled:n||a,autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",color:"#374151",fontWeight:"600",marginBottom:"8px",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Description (Optional)"}),(0,t.jsx)("textarea",{value:s,onChange:e=>d(e.target.value),placeholder:"Add more details...",rows:"3",className:"input",style:{resize:"none"},disabled:n||a})]}),(0,t.jsx)("button",{type:"submit",disabled:n||a,className:"btn-primary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:n||a?.5:1,cursor:n||a?"not-allowed":"pointer"},children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:"20px",height:"20px",border:"3px solid white",borderTop:"3px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Adding..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{style:{fontSize:"20px"},children:"✨"}),"Add Task"]})}),(0,t.jsxs)("div",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"8px"},children:["Debug: Title length = ",l.length,", Submitting = ",n?"true":"false"]})]})]})}function m({todos:e,onUpdate:a,onDelete:l,loading:r}){let[s,d]=(0,o.useState)(null),[n,i]=(0,o.useState)(null),c=async e=>{d(e.id);try{await a(e.id,{completed:!e.completed})}finally{d(null)}},g=async e=>{if(confirm("Are you sure you want to delete this task?")){i(e);try{await l(e)}finally{i(null)}}};return r?(0,t.jsxs)("div",{className:"text-center py-16 bg-white rounded-2xl shadow-xl",children:[(0,t.jsx)("div",{className:"inline-block w-16 h-16 border-4 border-purple-200 border-t-purple-600  rounded-full animate-spin mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"Loading your tasks..."})]}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-16 bg-white rounded-2xl shadow-xl border-2 border-dashed border-gray-300",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"🎯"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No tasks yet!"}),(0,t.jsx)("p",{className:"text-gray-500 text-lg",children:"Add your first task to get started"})]}):(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsx)("div",{className:`bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-200
                    border-2 p-5 transform hover:scale-[1.01] ${e.completed?"border-green-200 bg-green-50":"border-purple-100 hover:border-purple-300"} ${s===e.id||n===e.id?"opacity-50":""}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("button",{onClick:()=>c(e),disabled:s===e.id||n===e.id,className:"flex-shrink-0 mt-1 disabled:cursor-not-allowed",children:(0,t.jsx)("div",{className:`w-7 h-7 rounded-lg border-3 flex items-center justify-center
                             transition-all duration-200 ${e.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-purple-500 hover:bg-purple-50"}`,children:e.completed&&(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:`text-lg font-bold mb-1 break-words ${e.completed?"line-through text-gray-500":"text-gray-800"}`,children:e.title}),e.description&&(0,t.jsx)("p",{className:`text-sm mb-2 break-words ${e.completed?"text-gray-400":"text-gray-600"}`,children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[(0,t.jsx)("span",{children:"🕐"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,t.jsx)("button",{onClick:()=>g(e.id),disabled:s===e.id||n===e.id,className:"flex-shrink-0 w-10 h-10 rounded-lg bg-red-50 hover:bg-red-100  text-red-600 hover:text-red-700 transition-all duration-200 flex items-center justify-center font-bold text-xl hover:scale-110 active:scale-95 disabled:cursor-not-allowed disabled:opacity-50",title:"Delete task",children:"🗑️"})]})},e.id))})}function u({todos:e}){let o={total:e.length,completed:e.filter(e=>e.completed).length,pending:e.filter(e=>!e.completed).length};return 0===e.length?null:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 border-2 border-blue-100 text-center  transform hover:scale-105 transition-transform duration-200",children:[(0,t.jsx)("div",{className:"text-3xl mb-1",children:"📊"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o.total}),(0,t.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Total Tasks"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 border-2 border-green-100 text-center transform hover:scale-105 transition-transform duration-200",children:[(0,t.jsx)("div",{className:"text-3xl mb-1",children:"✅"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o.completed}),(0,t.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Completed"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 border-2 border-orange-100 text-center transform hover:scale-105 transition-transform duration-200",children:[(0,t.jsx)("div",{className:"text-3xl mb-1",children:"⏳"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:o.pending}),(0,t.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Pending"})]})]})}function h(){let[e,a]=(0,o.useState)([]),[l,r]=(0,o.useState)(!0),[s,h]=(0,o.useState)(null),[p,y]=(0,o.useState)("checking");(0,o.useEffect)(()=>{console.log("=== Component mounted, starting checks ==="),b(),f()},[]);let b=async()=>{try{y("checking");let e=await g();console.log("Health check result:",e),!0===e.available&&"healthy"===e.status?(y("healthy"),h(null),console.log("Local Storage is healthy and available")):(y("unhealthy"),h(e.message||"Local Storage is not available"),console.log("Local Storage is not healthy:",e))}catch(e){console.error("Health check failed:",e),y("unhealthy"),h("Cannot access Local Storage.")}},f=async()=>{try{r(!0);let e=await d();console.log("Load todos result:",e),!0===e.success?(a(e.data||[]),h(null),console.log("Todos loaded successfully:",e.data)):(h(e.message||"Failed to load todos"),console.error("Failed to load todos:",e))}catch(e){console.error("Error loading todos:",e),h("Error loading todos. Please try again.")}finally{r(!1)}},j=async e=>{try{console.log("Adding todo:",e);let t=await n(e);console.log("Add todo result:",t),!0===t.success?(await f(),console.log("Todo added successfully")):(h(t.message||"Failed to add todo"),console.error("Failed to add todo:",t))}catch(e){console.error("Error adding todo:",e),h("Error adding todo. Please try again.")}},v=async(e,t)=>{try{console.log("Updating todo:",e,t);let o=await i(e,t);console.log("Update todo result:",o),!0===o.success?(await f(),console.log("Todo updated successfully")):(h(o.message||"Failed to update todo"),console.error("Failed to update todo:",o))}catch(e){console.error("Error updating todo:",e),h("Error updating todo. Please try again.")}},w=async e=>{try{console.log("Deleting todo:",e);let t=await c(e);console.log("Delete todo result:",t),!0===t.success?(await f(),console.log("Todo deleted successfully")):(h(t.message||"Failed to delete todo"),console.error("Failed to delete todo:",t))}catch(e){console.error("Error deleting todo:",e),h("Error deleting todo. Please try again.")}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-50 to-blue-100 py-8 px-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"text-5xl animate-bounce",children:"✨"}),(0,t.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"My Todo List"}),(0,t.jsx)("div",{className:"text-5xl animate-bounce",children:"📝"})]}),(0,t.jsx)("p",{className:"text-gray-600 text-lg mb-4",children:"Organize your tasks beautifully"}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium  shadow-sm bg-white border-2 border-gray-200",children:[(0,t.jsx)("div",{className:`w-3 h-3 rounded-full ${"healthy"===p?"bg-green-500 animate-pulse":"unhealthy"===p?"bg-red-500":"bg-yellow-500 animate-pulse"}`}),(0,t.jsx)("span",{className:"text-gray-700",children:"healthy"===p?"🟢 Local Storage Connected":"unhealthy"===p?"🔴 Local Storage Error":"🟡 Checking Local Storage..."})]})]}),s&&(0,t.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-lg shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"⚠️"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-red-800 font-medium",children:s}),(0,t.jsx)("button",{onClick:()=>{b(),f()},className:"text-red-600 underline text-sm mt-1 hover:text-red-800",children:"Try again"})]})]})}),(0,t.jsx)(x,{onAdd:j,loading:l}),(0,t.jsx)(u,{todos:e}),(0,t.jsx)(m,{todos:e,onUpdate:v,onDelete:w,loading:l}),(0,t.jsxs)("div",{className:"mt-12 text-center text-gray-500 text-sm",children:[(0,t.jsxs)("p",{className:"mb-2",children:["Made with ",(0,t.jsx)("span",{className:"text-red-500 animate-pulse",children:"❤️"})," using Next.js + Local Storage"]}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Data Storage: Browser Local Storage | All data is saved locally"})]})]})})}e.s(["default",()=>h],74647)}]);